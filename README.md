# web-tools-static-site

**web-tools-static-site** is a plugin intended for projects using the [Web-tools](https://github.com/imgix/web-tools) build system. This plugin includes a pipeline that reads in a configuration file (see `examples/`), a set of compiled templates (such as those generated by [web-tools-nunjucks](https://github.com/jayeb/web-tools-nunjucks)), and a datastore (such as that managed by [web-tools-ds](https://github.com/jayeb/web-tools-ds) and outputs a complete set of ready-to-serve flat HTML files, as well as a `routes.json` file. These files can be used by the included server to

### Summary of merge/publish flow
## Versioning
1. Merge your PR into the main branch
2. After your PR is merged, go to the package.json file and bump the version number, ex:

```
"version": "X.Y.Z"
```
Follow the same versioning principles as the other repos, i.e.: `major`, `minor`, or `patch` version bump.

3. After bumping a new version you need to git add and commit all changes, then push to main, ex:
  ```
  $ git add -A
  $ git commit -m "deps: updates version to X.Y.Z"
  $ git push origin main
  ```
## Publishing
1. Use `$ git tag X.Y.Z` (or use  `$ git tag -a X.Y.Z` for adding comments)
2. Then run `git push --tags`
3. Update `website-v2` dependencies with correct version of `web-tools-static-site`:
   1. In `website-v2` - Create new branch for version updates `web-tools-static-site`
    - ex branch: `PE-X.Y.Z-web-tools-static-site-update-x.y.z`
   2. Update dependency versions, example in package.json:
      `"web-tools-static-site": "git+https://github.com/imgix/web-tools-static-site.git#X.Y.Z"`
   3. Push a PR to merge into main so that circle-ci can run checks
   - ex description: `Updates web-tools-static-site version x.y.z to [summarize version change]`
   - Include relevant PR links and jira ticket
   4. Merge into main after PR approved, this will deploy site.
